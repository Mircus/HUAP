## What

<!-- One-line summary of the change -->

## Why

<!-- Motivation: bug fix, feature, refactor, docs, etc. -->

## How

<!-- Brief description of the approach -->

## Test plan

- [ ] `pytest -q` passes
- [ ] `ruff check .` clean
- [ ] Added/updated tests or golden traces (if behavior changed)

## Replay / eval impact

<!-- Any change in tokens, tool calls, or trace shape? Write "N/A" if not applicable -->
